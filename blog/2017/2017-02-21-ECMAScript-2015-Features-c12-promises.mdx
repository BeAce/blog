---
title: ECMAScript 2015 Features-c12-promises
date: 2017-02-21T18:51:01
updated: Wed Feb 22 2017 10:09:02 GMT+0800 (CST)
comments: 1
categories:
tags:
  - JavaScript
permalink: c12-promises
---

# ECMAScript 2015 Features

## Promises

异步编程

### 写法

```js
function timeout(duration = 0) {
    return new Promise((resolve, reject) => {
        setTimeout(resolve, duration);
    })
}

var p = timeout(1000).then(() => {
    return timeout(2000);
}).then(() => {
    throw new Error("hmm");
}).catch(err => {
    return Promise.all([timeout(100), timeout(200)]);
})
```
